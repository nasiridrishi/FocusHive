# FocusHive Environment Configuration
# Copy this file to .env and update with your actual values

# =======================================================
# DATABASE CONFIGURATION
# =======================================================
# PostgreSQL Database Settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=focushive
DB_USERNAME=focushive_user
# CRITICAL: Use strong password in production!
DB_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
DATABASE_URL=jdbc:postgresql://localhost:5432/focushive
DATABASE_USERNAME=focushive_user
DATABASE_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD

# Database SSL Configuration (Production)
DB_SSL_ENABLED=true
DB_SSL_MODE=require

# Flyway Migration Settings (Optional - defaults to DB_USERNAME/DB_PASSWORD)
FLYWAY_USERNAME=${DB_USERNAME}
FLYWAY_PASSWORD=${DB_PASSWORD}

# =======================================================
# REDIS CONFIGURATION
# =======================================================
REDIS_HOST=localhost
REDIS_PORT=6379
# CRITICAL: Use strong password in production!
REDIS_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD

# =======================================================
# IDENTITY SERVICE CONFIGURATION
# =======================================================
IDENTITY_SERVICE_URL=http://localhost:8081
IDENTITY_SERVICE_CONNECT_TIMEOUT=5000
IDENTITY_SERVICE_READ_TIMEOUT=10000
IDENTITY_SERVICE_API_KEY=

# OAuth2 Client Configuration
# CRITICAL: Generate strong client secret!
FOCUSHIVE_CLIENT_SECRET=CHANGE_ME_USE_STRONG_PASSWORD

# Keystore Configuration (for JWT signing)
# CRITICAL: Use strong passwords for keystore!
KEY_STORE_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD
PRIVATE_KEY_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD

# =======================================================
# JWT CONFIGURATION
# =======================================================
# JWT Secret (minimum 256 bits for HS256)
# CRITICAL: Generate using: openssl rand -base64 32
# NEVER use default values in production!
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000
JWT_ACCESS_TOKEN_EXPIRATION=3600000
JWT_REFRESH_TOKEN_EXPIRATION=2592000000
JWT_REMEMBER_ME_EXPIRATION=7776000000

# =======================================================
# SERVER CONFIGURATION
# =======================================================
SERVER_PORT=8080

# =======================================================
# LOGGING CONFIGURATION
# =======================================================
LOG_LEVEL=INFO
FEIGN_LOG_LEVEL=DEBUG

# SQL Debugging (Development only)
SHOW_SQL=false
FORMAT_SQL=false
USE_SQL_COMMENTS=false

# =======================================================
# MONITORING AND OBSERVABILITY
# =======================================================
# Distributed Tracing
TRACING_SAMPLING_PROBABILITY=1.0
ZIPKIN_ENDPOINT=http://localhost:9411/api/v2/spans

# =======================================================
# APPLICATION FEATURES
# =======================================================
APP_VERSION=1.0.0

# Feature toggles
FEATURE_FORUM_ENABLED=false
FEATURE_BUDDY_ENABLED=false
FEATURE_ANALYTICS_ENABLED=false
FEATURE_AUTHENTICATION_ENABLED=false
FEATURE_REDIS_ENABLED=false
FEATURE_HEALTH_ENABLED=false

# =======================================================
# DEVELOPMENT SETTINGS
# =======================================================
# Development mode settings
DEVELOPMENT_MODE=false

# =======================================================
# PRODUCTION SETTINGS
# =======================================================
# Environment identifier
SPRING_PROFILES_ACTIVE=prod

# Security settings
MANAGEMENT_SECURITY_ENABLED=true

# =======================================================
# CLOUDFLARE TUNNEL CONFIGURATION (For dev.focushive.app)
# =======================================================
# Required for dev.focushive.app to work with Cloudflare tunnel
# Get your token from Cloudflare Zero Trust Dashboard
CLOUDFLARE_TUNNEL_TOKEN=

# =======================================================
# DOCKER CONFIGURATION
# =======================================================
# Frontend Configuration
VITE_API_BASE_URL=https://dev.focushive.app/api
VITE_WEBSOCKET_URL=wss://dev.focushive.app
VITE_IDENTITY_SERVICE_URL=https://dev.focushive.app/auth

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://dev.focushive.app,http://localhost:3000

# pgAdmin Configuration (optional, for dev-tools profile)
PGADMIN_EMAIL=admin@focushive.com
PGADMIN_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD

# =======================================================
# SECURITY INSTRUCTIONS - CRITICAL!
# =======================================================
# 1. NEVER commit this file with actual values to version control
# 2. Generate secure JWT secret: openssl rand -base64 32
# 3. Generate strong passwords: openssl rand -base64 24
# 4. Use different secrets for each environment (dev, staging, prod)
# 5. Rotate secrets regularly (at least every 90 days)
# 6. Use a secrets management system in production:
#    - HashiCorp Vault
#    - AWS Secrets Manager
#    - Azure Key Vault
#    - Google Secret Manager
# 7. Enable audit logging for all secret access
# 8. Monitor for exposed secrets using tools like:
#    - git-secrets
#    - GitHub secret scanning
#    - TruffleHog
# 9. All passwords must be:
#    - At least 16 characters
#    - Mix of uppercase, lowercase, numbers, symbols
#    - Unique per service
# 10. Enable MFA for all service accounts where possible